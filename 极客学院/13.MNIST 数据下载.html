<!DOCTYPE html>
    <html><head><meta charset="UTF-8">
    </head><body>
    <p><a href="http://wiki.jikexueyuan.com/project/tensorflow-zh/">原文链接</a></p>
        <div class="markdown-body">
<!-- 欢迎成为极客学院WIKI作者 -->
<!-- 极客学院团队出品 -->
<p class="author">极客学院团队出品 · 更新于 2017-10-13 11:00:26</p>
<!-- 内容 -->
<h1>MNIST 数据下载 <a class="md-anchor" id="AUTOGENERATED-mnist-data-download"></a></h1>
<p>源码: <a "="" href="https://github.com/tensorflow/tensorflow/tree/master/tensorflow/examples/tutorials/mnist" rel="nofollow">tensorflow/g3doc/tutorials/mnist/</a></p>
<p>本教程的目标是展示如何下载用于手写数字分类问题所要用到的（经典）MNIST数据集。</p>
<h2 id="ecffa82aecab4d28a658d53d0296ed17">教程 文件 <a class="md-anchor" id="AUTOGENERATED-tutorial-files"></a></h2>
<p>本教程需要使用以下文件：</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>目的</th>
</tr>
</thead>
<tbody>
<tr>
<td><a "="" href="https://raw.githubusercontent.com/tensorflow/tensorflow/master/tensorflow/examples/tutorials/mnist/input_data.py" rel="nofollow"><code>input_data.py</code></a></td>
<td>下载用于训练和测试的MNIST数据集的源码</td>
</tr>
</tbody>
</table>
<h2 id="6c731342a037d4d2280f4f168409130b">准备数据 <a class="md-anchor" id="AUTOGENERATED-prepare-the-data"></a></h2>
<p>MNIST是在机器学习领域中的一个经典问题。该问题解决的是把28x28像素的灰度手写数字图片识别为相应的数字，其中数字的范围从0到9.</p>
<p><img alt="MNIST Digits" src="images/2b4357f3035070ce3f403a0f4ed9a02b.png" title="MNIST Digits"/></p>
<p>更多详情, 请参考 <a "="" href="http://yann.lecun.com/exdb/mnist/" rel="nofollow">Yann LeCun's MNIST page</a>
或 <a "="" href="http://colah.github.io/posts/2014-10-Visualizing-MNIST/" rel="nofollow">Chris Olah's visualizations of MNIST</a>.</p>
<h3>下载 <a class="md-anchor" id="AUTOGENERATED-download"></a></h3>
<p><a "="" href="http://yann.lecun.com/exdb/mnist/" rel="nofollow">Yann LeCun's MNIST page</a>
也提供了训练集与测试集数据的下载。</p>
<table>
<thead>
<tr>
<th>文件</th>
<th>内容</th>
</tr>
</thead>
<tbody>
<tr>
<td><a "="" href="http://yann.lecun.com/exdb/mnist/train-images-idx3-ubyte.gz" rel="nofollow"><code>train-images-idx3-ubyte.gz</code></a></td>
<td>训练集图片 - 55000 张 训练图片, 5000 张 验证图片</td>
</tr>
<tr>
<td><a "="" href="http://yann.lecun.com/exdb/mnist/train-labels-idx1-ubyte.gz" rel="nofollow"><code>train-labels-idx1-ubyte.gz</code></a></td>
<td>训练集图片对应的数字标签</td>
</tr>
<tr>
<td><a "="" href="http://yann.lecun.com/exdb/mnist/t10k-images-idx3-ubyte.gz" rel="nofollow"><code>t10k-images-idx3-ubyte.gz</code></a></td>
<td>测试集图片 - 10000 张 图片</td>
</tr>
<tr>
<td><a "="" href="http://yann.lecun.com/exdb/mnist/t10k-labels-idx1-ubyte.gz" rel="nofollow"><code>t10k-labels-idx1-ubyte.gz</code></a></td>
<td>测试集图片对应的数字标签</td>
</tr>
</tbody>
</table>
<p>在 <code>input_data.py</code> 文件中,  <code>maybe_download()</code> 函数可以确保这些训练数据下载到本地文件夹中。</p>
<p>文件夹的名字在
<code>fully_connected_feed.py</code> 文件的顶部由一个标记变量指定，你可以根据自己的需要进行修改。</p>
<h3>解压 与 重构 <a class="md-anchor" id="AUTOGENERATED-unpack-and-reshape"></a></h3>
<p>这些文件本身并没有使用标准的图片格式储存，并且需要使用<code>input_data.py</code>文件中<code>extract_images()</code> 和<code>extract_labels()</code>函数来手动解压（页面中有相关说明）。</p>
<p>图片数据将被解压成2维的tensor：<code>[image index, pixel index]</code>
其中每一项表示某一图片中特定像素的强度值, 范围从 <code>[0, 255]</code> 到 <code>[-0.5, 0.5]</code>。  "image index"代表数据集中图片的编号, 从0到数据集的上限值。"pixel index"代表该图片中像素点得个数, 从0到图片的像素上限值。</p>
<p>以<code>train-*</code>开头的文件中包括60000个样本，其中分割出55000个样本作为训练集，其余的5000个样本作为验证集。因为所有数据集中28x28像素的灰度图片的尺寸为784，所以训练集输出的tensor格式为<code>[55000, 784]</code>。</p>
<p>数字标签数据被解压称1维的tensor: <code>[image index]</code>，它定义了每个样本数值的类别分类。对于训练集的标签来说，这个数据规模就是:<code>[55000]</code>。</p>
<h3>数据集 对象 <a class="md-anchor" id="AUTOGENERATED-dataset-object"></a></h3>
<p>底层的源码将会执行下载、解压、重构图片和标签数据来组成以下的数据集对象:</p>
<table>
<thead>
<tr>
<th>数据集</th>
<th>目的</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>data_sets.train</code></td>
<td>55000 组 图片和标签, 用于训练。</td>
</tr>
<tr>
<td><code>data_sets.validation</code></td>
<td>5000 组 图片和标签, 用于迭代验证训练的准确性。</td>
</tr>
<tr>
<td><code>data_sets.test</code></td>
<td>10000 组 图片和标签, 用于最终测试训练的准确性。</td>
</tr>
</tbody>
</table>
<p>执行<code>read_data_sets()</code>函数将会返回一个<code>DataSet</code>实例，其中包含了以上三个数据集。函数<code>DataSet.next_batch()</code>是用于获取以<code>batch_size</code>为大小的一个元组，其中包含了一组图片和标签，该元组会被用于当前的TensorFlow运算会话中。</p>
<pre><code class="language-python">images_feed, labels_feed = data_set.next_batch(FLAGS.batch_size)</code></pre>
<p>原文地址：<a "="" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/g3doc/tutorials/mnist/download/index.md" rel="nofollow">MNIST Data Download</a> 翻译：<a "="" href="https://github.com/btpeter" rel="nofollow">btpeter</a> 校对：waiwaizheng</p>
</div>
    </body></html>