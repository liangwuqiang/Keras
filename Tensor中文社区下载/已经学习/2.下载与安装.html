<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.1.4.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2017-09-20T22:45:16.329857652"/>
	<meta name="" content=""/>
	<style type="text/css">
		pre.ctl { font-family: "Liberation Mono", monospace }
		code.ctl { font-family: "Liberation Mono", monospace }
	</style>
</head>
<body lang="zh-CN" dir="ltr">
<p><a href="http://www.tensorfly.cn/tfdoc/tutorials/overview.html"><span style="background: #ffff00">原文链接</span></a></p>
<h1><a name="下载与安装-"></a><a name="AUTOGENERATED-download-and-setup"></a>
<span style="background: #ffff00">下载与安装 </span>
</h1>
<p><span style="background: #ffff00">你可以使用我们提供的二进制包<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>或者使用源代码<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>安装 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.</span></span></font></p>
<h2><a name="二进制安装-"></a><a name="AUTOGENERATED-binary-installation"></a>
<span style="background: #ffff00">二进制安装 </span>
</h2>
<p><font face="Liberation Serif, serif"><span lang="en-US"><span style="background: #ffff00">TensorFlow
Python API </span></font>依赖 <font face="Liberation Serif, serif"><span lang="en-US">Python
2.7 </span></font>版本<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<p><span style="background: #ffff00">在 <font face="Liberation Serif, serif"><span lang="en-US">Linux
</span></font>和 <font face="Liberation Serif, serif"><span lang="en-US">Mac
</span></font>下最简单的安装方式<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>是使用 <font face="Liberation Serif, serif"><span lang="en-US"><a href="https://pypi.python.org/pypi/pip" target="_blank">pip</a>
</span></font>安装<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<p><span style="background: #ffff00">如果在安装过程中遇到错误<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>请查阅 <a href="#common_install_problems">常见问题</a><font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>为了简化安装步骤<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>建议使用 <font face="Liberation Serif, serif"><span lang="en-US">virtualenv,
</span></font>教程见 <a href="#virtualenv_install">这里</a><font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<h3><a name="ubuntulinux-"></a><a name="AUTOGENERATED-ubuntu-linux"></a>
<font face="Liberation Serif, serif"><span lang="en-US"><span style="background: #ffff00">Ubuntu/Linux
</span></span></font>
</h3>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">仅使用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">CPU </code></span></font><code class="cjk">的版本</span></code>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ pip install https://storage.googleapis.com/tensorflow/linux/cpu/tensorflow-0.5.0-cp27-none-linux_x86_64.whl</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">开启 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">GPU </code></span></font><code class="cjk">支持的版本 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(</code></span></font><code class="cjk">安装该版本的前提是已经安装了 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">CUDA sdk)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ pip install https://storage.googleapis.com/tensorflow/linux/gpu/tensorflow-0.5.0-cp27-none-linux_x86_64.whl</code></span></font></pre><h3>
<a name="mac-os-x-"></a><a name="AUTOGENERATED-mac-os-x"></a><font face="Liberation Serif, serif"><span lang="en-US"><span style="background: #ffff00">Mac
OS X </span></span></font>
</h3>
<p>在 <font face="Liberation Serif, serif"><span lang="en-US">OS X
</span></font>系统上<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>我们推荐先安装 <font face="Liberation Serif, serif"><span lang="en-US"><a href="http://brew.sh/" target="_blank">homebrew</a>,
</span></font>然后执行 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">brew
install python</code>, </span></font>以便能够使用 <font face="Liberation Serif, serif"><span lang="en-US">homebrew
</span></font>中的 <font face="Liberation Serif, serif"><span lang="en-US">Python
</span></font>安装 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.
</span></font>另外一种推荐的方式是在 <font face="Liberation Serif, serif"><span lang="en-US"><a href="#virtualenv_install">virtualenv</a>
</span></font>中安装 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"># </code></span></font><code class="cjk">当前版本只支持 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">CPU</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ pip install https://storage.googleapis.com/tensorflow/mac/tensorflow-0.5.0-py2-none-any.whl</code></span></font></pre><h2>
<a name="基于-docker-的安装-"></a><a name="AUTOGENERATED-docker-based-installation"></a>
<span style="background: #ffff00">基于 <font face="Liberation Serif, serif"><span lang="en-US">Docker
</span></font>的安装 </span>
</h2>
<p><span style="background: #ffff00">我们也支持通过 <font face="Liberation Serif, serif"><span lang="en-US"><a href="http://docker.com/" target="_blank">Docker</a>
</span></font>运行 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.
</span></font>该方式的优点是不用操心软件依赖问题<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<p><span style="background: #ffff00">首先<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font><a href="http://docs.docker.com/engine/installation/" target="_blank">安装
<font face="Liberation Serif, serif"><span lang="en-US">Docker</a>.
</span></font>一旦 <font face="Liberation Serif, serif"><span lang="en-US">Docker
</span></font>已经启动运行<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>可以通过命令启动一个容器<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ docker run -it b.gcr.io/tensorflow/tensorflow</span></code></span></font></pre><p>
<span style="background: #ffff00">该命令将启动一个已经安装好
<font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>及相关依赖的容器<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<h3><a name="其它镜像-"></a><a name="AUTOGENERATED-additional-images"></a>
<span style="background: #ffff00">其它镜像 </span>
</h3>
<p><span style="background: #ffff00">默认的 <font face="Liberation Serif, serif"><span lang="en-US">Docker
</span></font>镜像只包含启动和运行 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>所需依赖库的一个最小集<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>我们额外提供了 下面的容器<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>该容器同样可以通过上述 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">docker
run</span></code><span style="background: #ffff00"> </span></span></font><span style="background: #ffff00">命令安装<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<ul>
	<li/>
<p><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">b.gcr.io/tensorflow/tensorflow-full</span></code><span style="background: #ffff00">:
	</span></span></font><span style="background: #ffff00">镜像中的
	<font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
	</span></font>是从源代码完整安装的<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>包含了编译和运行 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
	</span></font>所需的全部工具<font face="Liberation Serif, serif"><span lang="en-US">.
	</span></font>在该镜像上<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>可以直接使用源代码进行实验<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>而不需要再安装上述的任何依赖<font face="Liberation Serif, serif"><span lang="en-US">.
	</span></span></font>
	</p>
</ul>
<h2><a name="基于-virtualenv-的安装-"></a><a name="virtualenv_install"></a>
<span style="background: #ffff00">基于 <font face="Liberation Serif, serif"><span lang="en-US">VirtualEnv
</span></font>的安装 </span>
</h2>
<p><span style="background: #ffff00">我们推荐使用 <font face="Liberation Serif, serif"><span lang="en-US"><a href="https://pypi.python.org/pypi/virtualenv" target="_blank">virtualenv</a>
</span></font>创建一个隔离的容器<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>来安装 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.
</span></font>这是可选的<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>但是这样做能使排查安装问题变得更容易<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<p><span style="background: #ffff00">首先<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>安装所有必备工具<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">在 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Linux </code></span></font><code class="cjk">上</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">:</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ sudo apt-get install python-pip python-dev python-virtualenv</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"># </code></span></font><code class="cjk">在 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Mac </code></span></font><code class="cjk">上</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">:</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ sudo easy_install pip  # </code></span></font><code class="cjk">如果还没有安装 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">pip</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ sudo pip install --upgrade virtualenv</code></span></font></pre><p>
<span style="background: #ffff00">接下来<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>建立一个全新的 <font face="Liberation Serif, serif"><span lang="en-US">virtualenv
</span></font>环境<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>为了将环境建在 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">~/tensorflow</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">目录下<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>执行<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ virtualenv --system-site-packages ~/tensorflow</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ cd ~/tensorflow</span></code></span></font></pre><p>
<span style="background: #ffff00">然后<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>激活 <font face="Liberation Serif, serif"><span lang="en-US">virtualenv:</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ source bin/activate  # </code></span></font><code class="cjk">如果使用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">bash</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ source bin/activate.csh  # </code></span></font><code class="cjk">如果使用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">csh</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">(tensorflow)$  # </code></span></font><code class="cjk">终端提示符应该发生变化</span></code></pre><p>
<span style="background: #ffff00">在 <font face="Liberation Serif, serif"><span lang="en-US">virtualenv
</span></font>内<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>安装 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow:</span></span></font></p>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(tensorflow)$ pip install --upgrade &lt;$url_to_binary.whl&gt;</code></span></font></pre><p>
<span style="background: #ffff00">接下来<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>使用类似命令运行 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>程序<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(tensorflow)$ cd tensorflow/models/image/mnist</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(tensorflow)$ python convolutional.py</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">当使用完 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">TensorFlow</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(tensorflow)$ deactivate  # </code></span></font><code class="cjk">停用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">virtualenv</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$  # </code></span></font><code class="cjk">你的命令提示符会恢复原样</span></code></pre><h2>
<a name="尝试你的第一个-tensorflow-程序-"></a><a name="AUTOGENERATED-try-your-first-tensorflow-program"></a>
<span style="background: #ffff00">尝试你的第一个 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>程序 </span>
</h2>
<h3><a name="可选-启用-gpu-支持-"></a><a name="AUTOGENERATED--optional--enable-gpu-support"></a>
<font face="Liberation Serif, serif"><span lang="en-US"><span style="background: #ffff00">(</span></font>可选<font face="Liberation Serif, serif"><span lang="en-US">)
</span></font>启用 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>支持 </span>
</h3>
<p>如果你使用 <font face="Liberation Serif, serif"><span lang="en-US">pip
</span></font>二进制包安装了开启 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>支持的 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow,
</span></font>你必须确保 系统里安装了正确的 <font face="Liberation Serif, serif"><span lang="en-US">CUDA
sdk </span></font>和 <font face="Liberation Serif, serif"><span lang="en-US">CUDNN
</span></font>版本<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>请参间 <font face="Liberation Serif, serif"><span lang="en-US"><a href="#install_cuda">CUDA
</span></font>安装教程</a></p>
<p>你还需要设置 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">LD_LIBRARY_PATH</code>
</span></font>和 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">CUDA_HOME</code>
</span></font>环境变量<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>可以考虑将下面的命令 添加到
<font face="Liberation Serif, serif"><span lang="en-US"><code class="western">~/.bash_profile</code>
</span></font>文件中<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>这样每次登陆后自动生效<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>注意<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>下面的命令 假定 <font face="Liberation Serif, serif"><span lang="en-US">CUDA
</span></font>安装目录为 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">/usr/local/cuda</code>:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">export LD_LIBRARY_PATH=&quot;$LD_LIBRARY_PATH:/usr/local/cuda/lib64&quot;</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">export CUDA_HOME=/usr/local/cuda</code></span></font></pre><h3>
<a name="运行-tensorflow-"></a><a name="AUTOGENERATED-run-tensorflow"></a>
<span style="background: #ffff00">运行 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></span></font>
</h3>
<p><span style="background: #ffff00">打开一个 <font face="Liberation Serif, serif"><span lang="en-US">python
</span></font>终端<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ python</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; import tensorflow as tf</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; hello = tf.constant(&amp;apos;Hello, TensorFlow!&amp;apos;)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; sess = tf.Session()</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; print sess.run(hello)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">Hello, TensorFlow!</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; a = tf.constant(10)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; b = tf.constant(32)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt; print sess.run(a+b)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">42</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">&gt;&gt;&gt;</span></code></span></font></pre><h2>
<a name="从源码安装-"></a><a name="source"></a><span style="background: #ffff00">从源码安装
</span>
</h2>
<h3><a name="克隆-tensorflow-仓库-"></a><a name="AUTOGENERATED-clone-the-tensorflow-repository"></a>
<span style="background: #ffff00">克隆 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>仓库 </span>
</h3>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">$ git clone --recurse-submodules https://github.com/tensorflow/tensorflow</span></code></span></font></pre><p>
<font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">--recurse-submodules</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">参数是必须得<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>用于获取 <font face="Liberation Serif, serif"><span lang="en-US">TesorFlow
</span></font>依赖的 <font face="Liberation Serif, serif"><span lang="en-US">protobuf
</span></font>库<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<h3><a name="linux-安装-"></a><a name="AUTOGENERATED-installation-for-linux"></a>
<font face="Liberation Serif, serif"><span lang="en-US"><span style="background: #ffff00">Linux
</span></font>安装 </span>
</h3>
<h4><a name="安装-bazel-"></a><a name="AUTOGENERATED-install-bazel"></a>
安装 <font face="Liberation Serif, serif"><span lang="en-US">Bazel </span></font>
</h4>
<p>首先依照 <a href="http://bazel.io/docs/install.html" target="_blank">教程</a>
安装 <font face="Liberation Serif, serif"><span lang="en-US">Bazel
</span></font>的依赖<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>然后使用下列命令下载和编译 <font face="Liberation Serif, serif"><span lang="en-US">Bazel
</span></font>的源码<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ git clone https://github.com/bazelbuild/bazel.git</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ cd bazel</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ git checkout tags/0.1.0</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ ./compile.sh</code></span></font></pre><p>
上面命令中拉取的代码标签为 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">0.1.0</code>,
</span></font>兼容 <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>目前版本<font face="Liberation Serif, serif"><span lang="en-US">.
bazel </span></font>的<font face="Liberation Serif, serif"><span lang="en-US"><code class="western">HEAD</code>
</span></font>版本 <font face="Liberation Serif, serif"><span lang="en-US">(</span></font>即最新版本<font face="Liberation Serif, serif"><span lang="en-US">)
</span></font>在这里可能不稳定<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<p>将执行路径 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">output/bazel</code>
</span></font>添加到 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">$PATH</code>
</span></font>环境变量中<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h4><a name="安装其他依赖-"></a><a name="AUTOGENERATED-install-other-dependencies"></a>
安装其他依赖 
</h4>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ sudo apt-get install python-numpy swig python-dev</code></span></font></pre><h4>
<a name="可选-安装-cuda-在-linux-上开启-gpu-支持-"></a><a name="install_cuda"></a>
可选<font face="Liberation Serif, serif"><span lang="en-US">: </span></font>安装
<font face="Liberation Serif, serif"><span lang="en-US">CUDA (</span></font>在
<font face="Liberation Serif, serif"><span lang="en-US">Linux </span></font>上开启
<font face="Liberation Serif, serif"><span lang="en-US">GPU </span></font>支持<font face="Liberation Serif, serif"><span lang="en-US">)
</span></font>
</h4>
<p>为了编译并运行能够使用 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>的 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow,
</span></font>需要先安装 <font face="Liberation Serif, serif"><span lang="en-US">NVIDIA
</span></font>提供的 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
Toolkit 7.0 </span></font>和 <font face="Liberation Serif, serif"><span lang="en-US">CUDNN
6.5 V2.</span></font></p>
<p><font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>的 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>特性只支持 <font face="Liberation Serif, serif"><span lang="en-US">NVidia
Compute Capability &gt;= 3.5 </span></font>的显卡<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>被支持的显卡 包括但不限于<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0cm"><font face="Liberation Serif, serif"><span lang="en-US">NVidia
	Titan </span></font>
	</p>
	<li/>
<p style="margin-bottom: 0cm"><font face="Liberation Serif, serif"><span lang="en-US">NVidia
	Titan X </span></font>
	</p>
	<li/>
<p style="margin-bottom: 0cm"><font face="Liberation Serif, serif"><span lang="en-US">NVidia
	K20 </span></font>
	</p>
	<li/>
<p><font face="Liberation Serif, serif"><span lang="en-US">NVidia
	K40 </span></font>
	</p>
</ul>
<h5><a name="下载并安装-cuda-toolkit-70-"></a><a name="AUTOGENERATED-download-and-install-cuda-toolkit-7.0"></a>
下载并安装 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
Toolkit 7.0 </span></font>
</h5>
<p><a href="https://developer.nvidia.com/cuda-toolkit-70" target="_blank">下载地址</a></p>
<p>将工具安装到诸如 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">/usr/local/cuda</code>
</span></font>之类的路径<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h5><a name="下载并安装-cudnn-toolkit-65-"></a><a name="AUTOGENERATED-download-and-install-cudnn-toolkit-6.5"></a>
下载并安装 <font face="Liberation Serif, serif"><span lang="en-US">CUDNN
Toolkit 6.5 </span></font>
</h5>
<p><a href="https://developer.nvidia.com/rdp/cudnn-archive" target="_blank">下载地址</a></p>
<p>解压并拷贝 <font face="Liberation Serif, serif"><span lang="en-US">CUDNN
</span></font>文件到 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
Toolkit 7.0 </span></font>安装路径下<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>假设 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
Toolkit 7.0 </span></font>安装 在 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">/usr/local/cuda</code>,
</span></font>执行以下命令<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">tar xvzf cudnn-6.5-linux-x64-v2.tgz</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">sudo cp cudnn-6.5-linux-x64-v2/cudnn.h /usr/local/cuda/include</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">sudo cp cudnn-6.5-linux-x64-v2/libcudnn* /usr/local/cuda/lib64</code></span></font></pre><h5>
<a name="配置-tensorflow-的-cuba-选项-"></a><a name="AUTOGENERATED-configure-tensorflow-s-canonical-view-of-cuda-libraries"></a>
配置 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>的 <font face="Liberation Serif, serif"><span lang="en-US">Cuba
</span></font>选项 
</h5>
<p>从源码树的根路径执行<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ ./configure</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Do you wish to bulid TensorFlow with GPU support? [y/n] y</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">GPU support will be enabled for TensorFlow</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Please specify the location where CUDA 7.0 toolkit is installed. Refer to</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">README.md for more details. [default is: /usr/local/cuda]: /usr/local/cuda</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Please specify the location where CUDNN 6.5 V2 library is installed. Refer to</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">README.md for more details. [default is: /usr/local/cuda]: /usr/local/cuda</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Setting up Cuda include</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Setting up Cuda lib64</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Setting up Cuda bin</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Setting up Cuda nvvm</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Configuration finished</code></span></font></pre><p>
这些配置将建立到系统 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
</span></font>库的符号链接<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>每当 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
</span></font>库的路径发生变更时<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>必须重新执行上述 步骤<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>否则无法调用 <font face="Liberation Serif, serif"><span lang="en-US">bazel
</span></font>编译命令<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h5><a name="编译目标程序-开启-gpu-支持-"></a><a name="AUTOGENERATED-build-your-target-with-gpu-support."></a>
编译目标程序<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>开启 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>支持 
</h5>
<p>从源码树的根路径执行<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ bazel build -c opt --config=cuda //tensorflow/cc:tutorials_example_trainer</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ bazel-bin/tensorflow/cc/tutorials_example_trainer --use_gpu</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"># </code></span></font><code class="cjk">大量的输出信息</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">. </code></span></font><code class="cjk">这个例子用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">GPU </code></span></font><code class="cjk">迭代计算一个 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">2x2 </code></span></font><code class="cjk">矩阵的主特征值 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(major eigenvalue).</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"># </code></span></font><code class="cjk">最后几行输出和下面的信息类似</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">.</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">000009/000005 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">000006/000001 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">000009/000009 lambda = 2.000000 x = [0.894427 -0.447214] y = [1.788854 -0.894427]</code></span></font></pre><p>
注意<font face="Liberation Serif, serif"><span lang="en-US">, GPU
</span></font>支持需通过编译选项 <font face="Liberation Serif, serif"><span lang="en-US">&quot;--config=cuda&quot;
</span></font>开启<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h5><a name="已知问题-"></a><a name="AUTOGENERATED-known-issues"></a>
已知问题 
</h5>
<ul>
	<li/>
<p>尽管可以在同一个源码树下编译开启 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
	</span></font>支持和禁用 <font face="Liberation Serif, serif"><span lang="en-US">Cuda
	</span></font>支持的版本<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>我们还是推荐在 在切换这两种不同的编译配置时<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>使用 <font face="Liberation Serif, serif"><span lang="en-US">&quot;bazel
	clean&quot; </span></font>清理环境<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
	<li/>
<p>在执行 <font face="Liberation Serif, serif"><span lang="en-US">bazel
	</span></font>编译前必须先运行 <font face="Liberation Serif, serif"><span lang="en-US">configure,
	</span></font>否则编译会失败并提示错误信息<font face="Liberation Serif, serif"><span lang="en-US">.
	</span></font>未来<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>我们可能考虑将 <font face="Liberation Serif, serif"><span lang="en-US">configure
	</span></font>步骤包含在编译过程中<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>以简化整个过程<font face="Liberation Serif, serif"><span lang="en-US">,
	</span></font>前提是 <font face="Liberation Serif, serif"><span lang="en-US">bazel
	</span></font>能够提供新的特性支持这样<font face="Liberation Serif, serif"><span lang="en-US">.
	</span></font>
	</p>
</ul>
<h3><a name="mac-os-x-安装-"></a><a name="AUTOGENERATED-installation-for-mac-os-x"></a>
<font face="Liberation Serif, serif"><span lang="en-US">Mac OS X </span></font>安装
</h3>
<p><font face="Liberation Serif, serif"><span lang="en-US">Mac </span></font>和
<font face="Liberation Serif, serif"><span lang="en-US">Linux
</span></font>需要的软件依赖完全一样<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>但是安装过程区别很大<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>以下链接用于帮助你 在 <font face="Liberation Serif, serif"><span lang="en-US">Mac
OS X </span></font>上安装这些依赖<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<h4><a name="bazel-"></a><a name="AUTOGENERATED-bazel"></a><font face="Liberation Serif, serif"><span lang="en-US">Bazel
</span></font>
</h4>
<p>参见<a href="http://bazel.io/docs/install.html" target="_blank">本网页</a>的
<font face="Liberation Serif, serif"><span lang="en-US">Mac OS X
</span></font>安装指南<font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h4><a name="swig-"></a><a name="AUTOGENERATED-swig"></a><font face="Liberation Serif, serif"><span lang="en-US">SWIG
</span></font>
</h4>
<p><font face="Liberation Serif, serif"><span lang="en-US"><a href="http://www.swig.org/Doc3.0/Preface.html#Preface_osx_installation" target="_blank">Mac
OS X </span></font>安装教程</a><font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<p>注意<font face="Liberation Serif, serif"><span lang="en-US">:
</span></font>你需要安装<font face="Liberation Serif, serif"><span lang="en-US"><a href="ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/" target="_blank">PCRE</a>,
</span></font>而<em>不是</em> <font face="Liberation Serif, serif"><span lang="en-US">PCRE2.</span></font></p>
<h4><a name="numpy-"></a><a name="AUTOGENERATED-numpy"></a><font face="Liberation Serif, serif"><span lang="en-US">Numpy
</span></font>
</h4>
<p>参见<a href="http://docs.scipy.org/doc/numpy/user/install.html" target="_blank">安装教程</a><font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h3><a name="创建-pip-包并安装-"></a><a name="create-pip"></a>创建
<font face="Liberation Serif, serif"><span lang="en-US">pip </span></font>包并安装
</h3>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ bazel build -c opt //tensorflow/tools/pip_package:build_pip_package</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"># .whl </code></span></font><code class="cjk">文件的实际名字与你所使用的平台有关</code>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ pip install /tmp/tensorflow_pkg/tensorflow-0.5.0-cp27-none-linux_x86_64.whl</code></span></font></pre><h2>
<a name="训练你的第一个-tensorflow-神经网络模型-"></a><a name="AUTOGENERATED-train-your-first-tensorflow-neural-net-model"></a>
训练你的第一个 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>神经网络模型 
</h2>
<p>从源代码树的根路径执行<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ cd tensorflow/models/image/mnist</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">$ python convolutional.py</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Succesfully downloaded train-images-idx3-ubyte.gz 9912422 bytes.</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Succesfully downloaded train-labels-idx1-ubyte.gz 28881 bytes.</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Succesfully downloaded t10k-images-idx3-ubyte.gz 1648877 bytes.</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Succesfully downloaded t10k-labels-idx1-ubyte.gz 4542 bytes.</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Extracting data/train-images-idx3-ubyte.gz</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Extracting data/train-labels-idx1-ubyte.gz</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Extracting data/t10k-images-idx3-ubyte.gz</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Extracting data/t10k-labels-idx1-ubyte.gz</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Initialized!</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Epoch 0.00</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Minibatch loss: 12.054, learning rate: 0.010000</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Minibatch error: 90.6%</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Validation error: 84.6%</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Epoch 0.12</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Minibatch loss: 3.285, learning rate: 0.010000</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Minibatch error: 6.2%</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Validation error: 7.0%</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">...</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">...</code></span></font></pre><h2>
<a name="常见问题-"></a><a name="common_install_problems"></a>常见问题
</h2>
<h3><a name="gpu-相关问题-"></a><a name="AUTOGENERATED-gpu-related-issues"></a>
<font face="Liberation Serif, serif"><span lang="en-US">GPU </span></font>相关问题
</h3>
<p>如果在尝试运行一个 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow
</span></font>程序时出现以下错误<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">ImportError: libcudart.so.7.0: cannot open shared object file: No such file or directory</code></span></font></pre><p>
请确认你正确安装了 <font face="Liberation Serif, serif"><span lang="en-US">GPU
</span></font>支持<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>参见 <a href="#install_cuda">相关章节</a><font face="Liberation Serif, serif"><span lang="en-US">.</span></font></p>
<h3><a name="在-linux-上-"></a><a name="AUTOGENERATED-on-linux"></a>
在 <font face="Liberation Serif, serif"><span lang="en-US">Linux </span></font>上
</h3>
<p>如果出现错误<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">...</code></span></font>
<code class="cjk"> </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">&quot;__add__&quot;, &quot;__radd__&quot;,</code></span></font>
<code class="cjk">             </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">^</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">SyntaxError: invalid syntax</code></span></font></pre><p>
解决方案<font face="Liberation Serif, serif"><span lang="en-US">:
</span></font>确认正在使用的 <font face="Liberation Serif, serif"><span lang="en-US">Python
</span></font>版本为 <font face="Liberation Serif, serif"><span lang="en-US">Python
2.7.</span></font></p>
<h3><a name="在-mac-os-x-上-"></a><a name="AUTOGENERATED-on-macosx"></a>
在 <font face="Liberation Serif, serif"><span lang="en-US">Mac OS X
</span></font>上 
</h3>
<p>如果出现错误<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">import six.moves.copyreg as copyreg</code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">ImportError: No module named copyreg</code></span></font></pre><p>
解决方案<font face="Liberation Serif, serif"><span lang="en-US">:
TensorFlow </span></font>使用的 <font face="Liberation Serif, serif"><span lang="en-US">protobuf
</span></font>依赖 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">six-1.10.0</code>.
</span></font>但是<font face="Liberation Serif, serif"><span lang="en-US">,
Apple </span></font>的默认 <font face="Liberation Serif, serif"><span lang="en-US">python
</span></font>环境 已经安装了 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">six-1.4.1</code>,
</span></font>该版本可能很难升级<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>这里提供几种方法来解决该问题<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<ol>
	<li/>
<p>升级全系统的 <font face="Liberation Serif, serif"><span lang="en-US"><code class="western">six</code>:</span></font></p>
	<pre class="cjk" style="margin-bottom: 0.5cm"><code class="cjk"> </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">sudo easy_install -U six</code></span></font></pre>
	<li/>
<p>通过 <font face="Liberation Serif, serif"><span lang="en-US">homebrew
	</span></font>安装一个隔离的 <font face="Liberation Serif, serif"><span lang="en-US">python
	</span></font>副本<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
	<pre class="cjk" style="margin-bottom: 0.5cm"><code class="cjk"> </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">brew install python</code></span></font></pre>
	<li/>
<p>在<font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><a href="#virtualenv_install">virtualenv</a></code>
	</span></font>内编译或使用 <font face="Liberation Serif, serif"><span lang="en-US">TensorFlow.</span></font></p>
</ol>
<p>如果出现错误<font face="Liberation Serif, serif"><span lang="en-US">:</span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">&gt;&gt;&gt; import tensorflow as tf</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Traceback (most recent call last):</code></span></font>
<code class="cjk">  </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</code></span></font>
<code class="cjk">  </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">File &quot;/usr/local/lib/python2.7/site-packages/tensorflow/__init__.py&quot;, line 4, in &lt;module&gt;</code></span></font>
<code class="cjk">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">from tensorflow.python import *</code></span></font>
<code class="cjk">  </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">File &quot;/usr/local/lib/python2.7/site-packages/tensorflow/python/__init__.py&quot;, line 13, in &lt;module&gt;</code></span></font>
<code class="cjk">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">from tensorflow.core.framework.graph_pb2 import *</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">...</code></span></font>
<code class="cjk">  </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">File &quot;/usr/local/lib/python2.7/site-packages/tensorflow/core/framework/tensor_shape_pb2.py&quot;, line 22, in &lt;module&gt;</code></span></font>
<code class="cjk">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">serialized_pb=_b(&amp;apos;\n,tensorflow/core/framework/tensor_shape.proto\x12\ntensorflow\&quot;d\n\x10TensorShapeProto\x12-\n\x03\x64im\x18\x02 \x03(\x0b\x32 .tensorflow.TensorShapeProto.Dim\x1a!\n\x03\x44im\x12\x0c\n\x04size\x18\x01 \x01(\x03\x12\x0c\n\x04name\x18\x02 \x01(\tb\x06proto3&amp;apos;)</code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">TypeError: __init__() got an unexpected keyword argument &amp;apos;syntax&amp;apos;</code></span></font></pre><p>
这是由于安装了冲突的 <font face="Liberation Serif, serif"><span lang="en-US">protobuf
</span></font>版本引起的<font face="Liberation Serif, serif"><span lang="en-US">,
TensorFlow </span></font>需要的是 <font face="Liberation Serif, serif"><span lang="en-US">protobuf
3.0.0. </span></font>当前 最好的解决方案是确保没有安装旧版本的
<font face="Liberation Serif, serif"><span lang="en-US">protobuf,
</span></font>可以使用以下命令重新安装 <font face="Liberation Serif, serif"><span lang="en-US">protobuf
</span></font>来解决 冲突<font face="Liberation Serif, serif"><span lang="en-US">:
</span></font>
</p>
<pre class="cjk" style="margin-bottom: 0.5cm"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">brew reinstall --devel protobuf</code></span></font></pre><blockquote>
原文：<font face="Liberation Serif, serif"><span lang="en-US"><a href="http://tensorflow.org/get_started/os_setup.md" target="_blank">Download
and Setup</a> </span></font>翻译：<font face="Liberation Serif, serif"><span lang="en-US"><a href="https://github.com/PFZheng" target="_blank">@doc001</a>
</span></font>校对：<font face="Liberation Serif, serif"><span lang="en-US"><a href="https://github.com/sstruct" target="_blank">@yangtze</a></span></font></blockquote>
</body>
</html>