<<<<<<< HEAD
<!DOCTYPE html>
    <html><head><meta charset="UTF-8">
    </head><body>
    <p><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/">原文链接</a></p>
        <div class="tut-main-content-pad">
<hr>
<h1>Variable 变量</h1>
<p style="text-align: center;">
        
          作者: <strong>商晋</strong>   
        
        编辑: <strong>莫烦</strong>   
        
          2016-11-03
        
      </p>
<p>学习资料:</p>
<ul>
<li><a href="https://github.com/MorvanZhou/tutorials/blob/master/tensorflowTUT/tensorflow7_variable.py">相关代码</a></li>
<li>为 TF 2017 打造的<a href="https://github.com/MorvanZhou/Tensorflow-Tutorial">新版可视化教学代码</a></li>
</ul>
<h4 class="tut-h4-pad" id="简单运用">简单运用</h4>
<p>这节课我们学习如何在 Tensorflow 中使用 <code class="highlighter-rouge">Variable</code> .</p>
<p>在 Tensorflow 中，定义了某字符串是变量，它才是变量，这一点是与 Python 所不同的。</p>
<p>定义语法： <code class="highlighter-rouge">state = tf.Variable()</code></p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>

<span class="n">state</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">'counter'</span><span class="p">)</span>

<span class="c"># 定义常量 one</span>
<span class="n">one</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c"># 定义加法步骤 (注: 此步并没有直接计算)</span>
<span class="n">new_value</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">one</span><span class="p">)</span>

<span class="c"># 将 State 更新成 new_value</span>
<span class="n">update</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">new_value</span><span class="p">)</span>
</code></pre>
</div>
<p>如果你在 Tensorflow 中设定了变量，那么初始化变量是最重要的！！所以定义了变量以后, 
一定要定义 <code class="highlighter-rouge">init = tf.initialize_all_variables()</code> .</p>
<p>到这里变量还是没有被激活，需要再在 <code class="highlighter-rouge">sess</code> 里, <code class="highlighter-rouge">sess.run(init)</code> , 激活 <code class="highlighter-rouge">init</code> 这一步.</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># 如果定义 Variable, 就一定要 initialize</span>
<span class="c"># init = tf.initialize_all_variables() # tf 马上就要废弃这种写法</span>
<span class="n">init</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">global_variables_initializer</span><span class="p">()</span>  <span class="c"># 替换成这样就好</span>
 
<span class="c"># 使用 Session</span>
<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">init</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>
        <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">update</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">state</span><span class="p">))</span>
</code></pre>
</div>
<p>注意：直接 <code class="highlighter-rouge">print(state)</code> 不起作用！！</p>
<p>一定要把 <code class="highlighter-rouge">sess</code> 的指针指向 <code class="highlighter-rouge">state</code> 再进行 <code class="highlighter-rouge">print</code> 才能得到想要的结果！</p>
<p>以上就是我们今天所学的 <code class="highlighter-rouge">Variable</code> 打开模式，欢迎继续学习下一章 ———— Tensorflow 中的 <code class="highlighter-rouge">Placeholder</code>。</p>
<p style="font-size: 0.8em; padding:4em 1em 0.5em 1em; margin: 0 auto;">
        如果你觉得这篇文章或视频对你的学习很有帮助, 请你也分享它, 让它能再次帮助到更多的需要学习的人.

        莫烦没有正式的经济来源, 如果你也想支持 <strong>莫烦Python</strong> 并看到更好的教学内容, 赞助他一点点, 作为鼓励他继续开源的动力.
      </p>
<!-- donation -->
<div id="bottom-donation-section">
<h3 id="bottom-donation-title">支持 让教学变得更优秀</h3>
<br>
<div>
<a href="/support/" id="bottom-donation-button"><strong>点我 赞助 莫烦</strong></a>
</div>
<br>
</br></br></div>
<hr>
</hr></hr></div>
    </body></html>
=======
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.1.4.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2017-09-19T11:18:46.409593753"/>
	<meta name="" content=""/>
	<style type="text/css">
		pre.ctl { font-family: "Liberation Mono", monospace }
		code.ctl { font-family: "Liberation Mono", monospace }
	</style>
</head>
<body lang="zh-CN" dir="ltr">
<p><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/"><span style="background: #ffff00">原文链接</span></a></p>
<hr/>

<h1><font face="Thorndale, serif"><font size="6" style="font-size: 24pt"><span lang="en-US"><span style="background: #ffff00">Variable
</span></font></font>变量</span></h1>
<p align="center"><span style="background: #ffff00">作者<font face="Liberation Serif, serif"><span lang="en-US">:
</span></span></font><strong><span style="background: #ffff00">商晋</span></strong><span style="background: #ffff00">
&nbsp;&nbsp; 编辑<font face="Liberation Serif, serif"><span lang="en-US">:
</span></span></font><strong><span style="background: #ffff00">莫烦</span></strong><span style="background: #ffff00">
&nbsp;&nbsp; <font face="Liberation Serif, serif"><span lang="en-US">2016-11-03
</span></span></font>
</p>
<p><span style="background: #ffff00">学习资料<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0cm"><span style="background: #ffff00"><a href="https://github.com/MorvanZhou/tutorials/blob/master/tensorflowTUT/tensorflow7_variable.py">相关代码</a>
	</span>
	</p>
	<li/>
<p><span style="background: #ffff00">为 <font face="Liberation Serif, serif"><span lang="en-US">TF
	2017 </span></font>打造的<a href="https://github.com/MorvanZhou/Tensorflow-Tutorial">新版可视化教学代码</a>
	</span>
	</p>
</ul>
<h4><a name="简单运用"></a><span style="background: #ffff00">简单运用</span></h4>
<p><span style="background: #ffff00">这节课我们学习如何在
<font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>中使用 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Variable</span></code><span style="background: #ffff00">
.</span></span></font></p>
<p><span style="background: #ffff00">在 <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>中，定义了某字符串是变量，它才是变量，这一点是与
<font face="Liberation Serif, serif"><span lang="en-US">Python </span></font>所不同的。</span></p>
<p><span style="background: #ffff00">定义语法： </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">state
= tf.Variable()</span></code></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">import tensorflow as tf</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">state = tf.Variable(0, name='counter')</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">定义常量 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">one</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">one = tf.constant(1)</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">定义加法步骤 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">(</code></span></font><code class="cjk">注</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">: </code></span></font><code class="cjk">此步并没有直接计算</code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">new_value = tf.add(state, one)</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">将 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">State </code></span></font><code class="cjk">更新成 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">new_value</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">update = tf.assign(state, new_value)</span></code></span></font></pre><p>
<span style="background: #ffff00">如果你在 <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>中设定了变量，那么初始化变量是最重要的！！所以定义了变量以后<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>一定要定义 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">init
= tf.initialize_all_variables()</span></code><span style="background: #ffff00">
.</span></span></font></p>
<p><span style="background: #ffff00">到这里变量还是没有被激活，需要再在
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">sess</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">里<font face="Liberation Serif, serif"><span lang="en-US">,
</span><code class="western"><span style="background: #ffff00">sess.run(init)</span></code><span style="background: #ffff00">
, </span></span></font><span style="background: #ffff00">激活 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">init</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">这一步<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">如果定义 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Variable, </code></span></font><code class="cjk">就一定要 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">initialize</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># init = tf.initialize_all_variables() # tf </code></span></font><code class="cjk">马上就要废弃这种写法</span></code>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">init = tf.global_variables_initializer()  # </code></span></font><code class="cjk">替换成这样就好</span></code>
<code class="cjk"> </code>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># </code></span></font><code class="cjk">使用 </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">Session</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">with tf.Session() as sess:</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">sess.run(init)</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">for _ in range(3):</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">        </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">sess.run(update)</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">        </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">print(sess.run(state))</span></code></span></font></pre><p>
<span style="background: #ffff00">注意：直接 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">print(state)</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">不起作用！！</span></p>
<p><span style="background: #ffff00">一定要把 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">sess</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">的指针指向
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">state</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">再进行
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">print</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">才能得到想要的结果！</span></p>
<p><span style="background: #ffff00">以上就是我们今天所学的
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Variable</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">打开模式，欢迎继续学习下一章
———— <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>中的</span> <font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Placeholder</span></code></span></font><span style="background: #ffff00">。</span></p>
<div id="bottom-donation-section" dir="ltr">
	<p style="margin-bottom: 0cm"><br/>

	</p>
</div>
</body>
</html>
>>>>>>> dbe96efc57d6db2998967ee467c1f1106a52b1ba
