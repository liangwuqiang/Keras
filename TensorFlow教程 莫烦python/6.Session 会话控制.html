<<<<<<< HEAD
<!DOCTYPE html>
    <html><head><meta charset="UTF-8">
    </head><body>
    <p><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/">原文链接</a></p>
        <div class="tut-main-content-pad">
<hr>
<h1>Session 会话控制</h1>
<p style="text-align: center;">
        
          作者: <strong>商晋</strong>   
        
        编辑: <strong>莫烦</strong>   
        
          2016-11-03
        
      </p>
<p>学习资料:</p>
<ul>
<li><a href="https://github.com/MorvanZhou/tutorials/blob/master/tensorflowTUT/tensorflow6_session.py">相关代码</a></li>
<li>为 TF 2017 打造的<a href="https://github.com/MorvanZhou/Tensorflow-Tutorial">新版可视化教学代码</a></li>
</ul>
<h4 class="tut-h4-pad" id="简单运用">简单运用</h4>
<p>欢迎回来！这一次我们会讲到 Tensorflow 中的 <code class="highlighter-rouge">Session</code>, <code class="highlighter-rouge">Session</code> 是 Tensorflow 为了控制,和输出文件的执行的语句.
运行 <code class="highlighter-rouge">session.run()</code> 可以获得你要得知的运算结果, 或者是你所要运算的部分.</p>
<p>首先，我们这次需要加载 Tensorflow ，然后建立两个 <code class="highlighter-rouge">matrix</code> ,输出两个 <code class="highlighter-rouge">matrix</code> 矩阵相乘的结果。</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>

<span class="c"># create two matrixes</span>

<span class="n">matrix1</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]])</span>
<span class="n">matrix2</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mi">2</span><span class="p">],</span>
                       <span class="p">[</span><span class="mi">2</span><span class="p">]])</span>
<span class="n">product</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">matmul</span><span class="p">(</span><span class="n">matrix1</span><span class="p">,</span><span class="n">matrix2</span><span class="p">)</span>
</code></pre>
</div>
<p>因为 <code class="highlighter-rouge">product</code> 不是直接计算的步骤, 所以我们会要使用 <code class="highlighter-rouge">Session</code> 来激活 <code class="highlighter-rouge">product</code> 并的到计算结果.
有两种形式使用会话控制 <code class="highlighter-rouge">Session</code> 。</p>
<div class="language-python highlighter-rouge"><pre class="highlight"><code><span class="c"># method 1</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="n">sess</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="c"># [[12]]</span>

<span class="c"># method 2</span>
<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
    <span class="n">result2</span> <span class="o">=</span> <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">product</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result2</span><span class="p">)</span>
<span class="c"># [[12]]</span>
</code></pre>
</div>
<p>以上就是我们今天所学的两种 <code class="highlighter-rouge">Session</code> 打开模式，欢迎继续学习下一章 ———— Tensorflow 中的 <code class="highlighter-rouge">Variable</code>。</p>
<p style="font-size: 0.8em; padding:4em 1em 0.5em 1em; margin: 0 auto;">
        如果你觉得这篇文章或视频对你的学习很有帮助, 请你也分享它, 让它能再次帮助到更多的需要学习的人.

        莫烦没有正式的经济来源, 如果你也想支持 <strong>莫烦Python</strong> 并看到更好的教学内容, 赞助他一点点, 作为鼓励他继续开源的动力.
      </p>
<!-- donation -->
<div id="bottom-donation-section">
<h3 id="bottom-donation-title">支持 让教学变得更优秀</h3>
<br>
<div>
<a href="/support/" id="bottom-donation-button"><strong>点我 赞助 莫烦</strong></a>
</div>
<br>
</br></br></div>
<hr>
</hr></hr></div>
    </body></html>
=======
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
	<title></title>
	<meta name="generator" content="LibreOffice 5.1.4.2 (Linux)"/>
	<meta name="created" content="00:00:00"/>
	<meta name="changed" content="2017-09-19T11:03:25.517775029"/>
	<meta name="" content=""/>
	<style type="text/css">
		pre.ctl { font-family: "Liberation Mono", monospace }
		code.ctl { font-family: "Liberation Mono", monospace }
	</style>
</head>
<body lang="zh-CN" dir="ltr">
<p><a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/"><span style="background: #ffff00">原文链接</span></a></p>
<hr/>

<h1><font face="Thorndale, serif"><font size="6" style="font-size: 24pt"><span lang="en-US"><span style="background: #ffff00">Session
</span></font></font>会话控制</span></h1>
<p align="center"><span style="background: #ffff00">作者<font face="Liberation Serif, serif"><span lang="en-US">:
</span></span></font><strong><span style="background: #ffff00">商晋</span></strong><span style="background: #ffff00">
&nbsp;&nbsp; 编辑<font face="Liberation Serif, serif"><span lang="en-US">:
</span></span></font><strong><span style="background: #ffff00">莫烦</span></strong><span style="background: #ffff00">
&nbsp;&nbsp; <font face="Liberation Serif, serif"><span lang="en-US">2016-11-03
</span></span></font>
</p>
<p><span style="background: #ffff00">学习资料<font face="Liberation Serif, serif"><span lang="en-US">:</span></span></font></p>
<ul>
	<li/>
<p style="margin-bottom: 0cm"><span style="background: #ffff00"><a href="https://github.com/MorvanZhou/tutorials/blob/master/tensorflowTUT/tensorflow6_session.py">相关代码</a>
	</span>
	</p>
	<li/>
<p><span style="background: #ffff00">为 <font face="Liberation Serif, serif"><span lang="en-US">TF
	2017 </span></font>打造的<a href="https://github.com/MorvanZhou/Tensorflow-Tutorial">新版可视化教学代码</a>
	</span>
	</p>
</ul>
<h4><a name="简单运用"></a><span style="background: #ffff00">简单运用</span></h4>
<p><span style="background: #ffff00">欢迎回来！这一次我们会讲到
<font face="Liberation Serif, serif"><span lang="en-US">Tensorflow </span></font>中的
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Session</span></code><span style="background: #ffff00">,
</span><code class="western"><span style="background: #ffff00">Session</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">是 <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>为了控制<font face="Liberation Serif, serif"><span lang="en-US">,</span></font>和输出文件的执行的语句<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>运行 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">session.run()</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">可以获得你要得知的运算结果<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>或者是你所要运算的部分<font face="Liberation Serif, serif"><span lang="en-US">.</span></span></font></p>
<p><span style="background: #ffff00">首先，我们这次需要加载
<font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>，然后建立两个 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">matrix</span></code><span style="background: #ffff00">
,</span></span></font><span style="background: #ffff00">输出两个
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">matrix</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">矩阵相乘的结果。</span></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">import tensorflow as tf</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># create two matrixes</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">matrix1 = tf.constant([[3,3]])</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">matrix2 = tf.constant([[2],</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">                       </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">[2]])</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">product = tf.matmul(matrix1,matrix2)</span></code></span></font></pre><p>
<span style="background: #ffff00">因为 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">product</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">不是直接计算的步骤<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>所以我们会要使用 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Session</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">来激活
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">product</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">并的到计算结果<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>有两种形式使用会话控制 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Session</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">。</span></p>
<pre class="cjk"><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># method 1</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">sess = tf.Session()</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">result = sess.run(product)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">print(result)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">sess.close()</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># [[12]]</span></code></span></font>

<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># method 2</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00">with tf.Session() as sess:</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">result2 = sess.run(product)</span></code></span></font>
<code class="cjk"><span style="background: #ffff00">    </code><font face="Liberation Mono, monospace"><span lang="en-US"><code class="western">print(result2)</span></code></span></font>
<font face="Liberation Mono, monospace"><span lang="en-US"><code class="western"><span style="background: #ffff00"># [[12]]</span></code></span></font></pre><p>
<span style="background: #ffff00">以上就是我们今天所学的两种
</span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Session</span></code><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">打开模式，欢迎继续学习下一章
———— <font face="Liberation Serif, serif"><span lang="en-US">Tensorflow
</span></font>中的 </span><font face="Liberation Serif, serif"><span lang="en-US"><code class="western"><span style="background: #ffff00">Variable</span></code></span></font><span style="background: #ffff00">。</span></p>
<p><span style="background: #ffff00">如果你觉得这篇文章或视频对你的学习很有帮助<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>请你也分享它<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>让它能再次帮助到更多的需要学习的人<font face="Liberation Serif, serif"><span lang="en-US">.
</span></font>莫烦没有正式的经济来源<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>如果你也想支持 </span><strong><span style="background: #ffff00">莫烦<font face="Liberation Serif, serif"><span lang="en-US">Python</span></strong><span style="background: #ffff00">
</span></span></font><span style="background: #ffff00">并看到更好的教学内容<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>赞助他一点点<font face="Liberation Serif, serif"><span lang="en-US">,
</span></font>作为鼓励他继续开源的动力<font face="Liberation Serif, serif"><span lang="en-US">.
</span></span></font>
</p>
<div id="bottom-donation-section" dir="ltr">
	<h3><a name="bottom-donation-title"></a><span style="background: #ffff00"><!-- donation -->支持
	让教学变得更优秀</span></h3>
	<p style="margin-bottom: 0cm"><br/>

	</p>
	<p style="margin-bottom: 0cm"><a name="bottom-donation-button"></a><strong><a href="/support/"><span style="background: #ffff00">点我
	赞助 莫烦</span></a></strong><span style="background: #ffff00"> </span>
	</p>
	<p style="margin-bottom: 0cm"><font face="Liberation Serif, serif"><span lang="en-US"><br/>
<br/>
<br/>
</span></font><br/>

	</p>
</div>
<hr/>

</body>
</html>
>>>>>>> dbe96efc57d6db2998967ee467c1f1106a52b1ba
